(function(){
    const zh = {
        // Permissions panel
        'permissions.title': '权限',
        'permissions.search.placeholder': '按用户名/ID搜索',
        // 权限页：分离“角色”标签，便于点击角色值进行编辑
        'permissions.user.roleLabel': '角色：',
        'permissions.search': '搜索',
        'permissions.mode.toggle.title': '切换展示模式：部分/全部',
        'permissions.mode.partial': '部分',
        'permissions.mode.all': '全部',
        'permissions.fetchUsersFailedPrefix': '获取用户失败：',
        'permissions.user.role': '角色: {role}',
        'permissions.edit': '编辑权限',
        'permissions.changePassword': '修改密码',
        'permissions.changeRole': '修改角色',
        'permissions.selectAll': '全选',
        'permissions.saveFailed': '保存失败',
        // Permissions logs
        'permissions.log.title': '用户变更日志',
        'permissions.log.clear': '清空',
        'permissions.log.register': '注册',
        'permissions.log.roleChanged': '角色变更',
        'permissions.log.passwordChanged': '修改密码',
        'permissions.log.avatarSubmitted': '头像提交审核',
        'permissions.log.avatarApproved': '头像通过',
        'permissions.log.avatarRejected': '头像拒绝',
        'permissions.log.usernameSubmitted': '用户名提交审核',
        'permissions.log.usernameApproved': '用户名通过',
        'permissions.log.usernameRejected': '用户名拒绝',
        'permissions.log.usernameCancelled': '撤回用户名修改',
        'permissions.log.introSubmitted': '简介提交审核',
        'permissions.log.introApproved': '简介通过',
        'permissions.log.introRejected': '简介拒绝',
        'permissions.log.introCancelled': '撤回简介修改',
        'permissions.log.userApproved': '注册通过',
        'permissions.log.userRejected': '注册拒绝',
        'permissions.log.granted': '授予权限',
        'permissions.log.revoked': '撤销权限',
        'permissions.log.replaced': '替换权限集',

        // Permissions log messages (body)
        'permissions.msg.userRegistered': '申请人：{applicantName}',
        'permissions.msg.userApproved': '申请人：{applicantName}',
        'permissions.msg.userRejected': '申请人：{applicantName}',
        'permissions.msg.passwordChanged': '目标：{username}',
        'permissions.msg.roleChanged': '目标：{username}，角色：{oldRole} → {newRole}',
        'permissions.msg.avatarSubmitted': 'URL：{url}',
        'permissions.msg.avatarApproved': '申请人：{applicantName}，URL：{url}',
        'permissions.msg.avatarRejected': '申请人：{applicantName}，URL：{url}',
        'permissions.msg.usernameSubmitted': '新用户名：{newUsername}',
        'permissions.msg.usernameApproved': '用户名：{username}',
        'permissions.msg.usernameRejected': '申请人：{applicantName}，新用户名：{newUsername}',
        'permissions.msg.usernameCancelled': '新用户名：{newUsername}',
        'permissions.msg.introSubmitted': '新简介：{newIntro}',
        'permissions.msg.introApproved': '申请人：{applicantName}，简介：{intro}',
        'permissions.msg.introRejected': '申请人：{applicantName}，新简介：{newIntro}',
        'permissions.msg.introCancelled': '新简介：{newIntro}',
        'permissions.msg.granted': '目标：{username}，权限：{perm}',
        'permissions.msg.revoked': '目标：{username}，权限：{perm}',
        'permissions.msg.replaced': '目标：{username}，已替换权限集',

        // Permissions log filters
        'permissions.log.filter.keyword': '按申请人/审核人/内容搜索',
        'permissions.log.filter.cat.all': '全部类型',
        'permissions.log.filter.cat.register': '注册',
        'permissions.log.filter.cat.username': '用户名',
        'permissions.log.filter.cat.intro': '简介',
        'permissions.log.filter.cat.avatar': '头像',
        'permissions.log.filter.cat.permissions': '权限',
        'permissions.log.filter.cat.password': '密码',
        'permissions.log.filter.outcome.any': '全部结果',
        'permissions.log.filter.outcome.submitted': '已提交',
        'permissions.log.filter.outcome.approved': '已通过',
        'permissions.log.filter.outcome.rejected': '已拒绝',
        'permissions.log.filter.outcome.cancelled': '已撤回',
        'permissions.log.filter.from': '起始日期',
        'permissions.log.filter.to': '结束日期',
        'permissions.log.filter.apply': '筛选',
        'permissions.log.filter.reset': '重置',
    };

    const en = {
        // Permissions panel
        'permissions.title': 'Permissions',
        'permissions.search.placeholder': 'Search by username/ID',
        // Permissions: split role label for clickable value editing
        'permissions.user.roleLabel': 'Role:',
        'permissions.search': 'Search',
        'permissions.mode.toggle.title': 'Toggle view: Partial/All',
        'permissions.mode.partial': 'Partial',
        'permissions.mode.all': 'All',
        'permissions.fetchUsersFailedPrefix': 'Fetch users failed:',
        'permissions.user.role': 'Role: {role}',
        'permissions.edit': 'Edit permissions',
        'permissions.changePassword': 'Change password',
        'permissions.changeRole': 'Change role',
        'permissions.selectAll': 'Select all',
        'permissions.saveFailed': 'Save failed',
        // Permissions logs
        'permissions.log.title': 'User change log',
        'permissions.log.clear': 'Clear',
        'permissions.log.register': 'Register',
        'permissions.log.roleChanged': 'Role changed',
        'permissions.log.passwordChanged': 'Password changed',
        'permissions.log.avatarSubmitted': 'Avatar submitted',
        'permissions.log.avatarApproved': 'Avatar approved',
        'permissions.log.avatarRejected': 'Avatar rejected',
        'permissions.log.usernameSubmitted': 'Username submitted',
        'permissions.log.usernameApproved': 'Username approved',
        'permissions.log.usernameRejected': 'Username rejected',
        'permissions.log.usernameCancelled': 'Username change revoked',
        'permissions.log.introSubmitted': 'Intro submitted',
        'permissions.log.introApproved': 'Intro approved',
        'permissions.log.introRejected': 'Intro rejected',
        'permissions.log.introCancelled': 'Intro change revoked',
        'permissions.log.userApproved': 'User approved',
        'permissions.log.userRejected': 'User rejected',
        'permissions.log.granted': 'Permission granted',
        'permissions.log.revoked': 'Permission revoked',
        'permissions.log.replaced': 'Permissions replaced',

        // Permissions log messages (body)
        'permissions.msg.userRegistered': 'Applicant: {applicantName}',
        'permissions.msg.userApproved': 'Applicant: {applicantName}',
        'permissions.msg.userRejected': 'Applicant: {applicantName}',
        'permissions.msg.passwordChanged': 'Target: {username}',
        'permissions.msg.roleChanged': 'Target: {username}, Role: {oldRole} → {newRole}',
        'permissions.msg.avatarSubmitted': 'URL: {url}',
        'permissions.msg.avatarApproved': 'Applicant: {applicantName}, URL: {url}',
        'permissions.msg.avatarRejected': 'Applicant: {applicantName}, URL: {url}',
        'permissions.msg.usernameSubmitted': 'New username: {newUsername}',
        'permissions.msg.usernameApproved': 'Username: {username}',
        'permissions.msg.usernameRejected': 'Applicant: {applicantName}, New username: {newUsername}',
        'permissions.msg.usernameCancelled': 'New username: {newUsername}',
        'permissions.msg.introSubmitted': 'New intro: {newIntro}',
        'permissions.msg.introApproved': 'Applicant: {applicantName}, Intro: {intro}',
        'permissions.msg.introRejected': 'Applicant: {applicantName}, New intro: {newIntro}',
        'permissions.msg.introCancelled': 'New intro: {newIntro}',
        'permissions.msg.granted': 'Target: {username}, Permission: {perm}',
        'permissions.msg.revoked': 'Target: {username}, Permission: {perm}',
        'permissions.msg.replaced': 'Target: {username}, Permissions set replaced',

        // Permissions log filters
        'permissions.log.filter.keyword': 'Search by applicant/reviewer/content',
        'permissions.log.filter.cat.all': 'All types',
        'permissions.log.filter.cat.register': 'Register',
        'permissions.log.filter.cat.username': 'Username',
        'permissions.log.filter.cat.intro': 'Intro',
        'permissions.log.filter.cat.avatar': 'Avatar',
        'permissions.log.filter.cat.permissions': 'Permissions',
        'permissions.log.filter.cat.password': 'Password',
        'permissions.log.filter.outcome.any': 'Any result',
        'permissions.log.filter.outcome.submitted': 'Submitted',
        'permissions.log.filter.outcome.approved': 'Approved',
        'permissions.log.filter.outcome.rejected': 'Rejected',
        'permissions.log.filter.outcome.cancelled': 'Cancelled',
        'permissions.log.filter.from': 'From',
        'permissions.log.filter.to': 'To',
        'permissions.log.filter.apply': 'Apply',
        'permissions.log.filter.reset': 'Reset',
    };

    if (window.I18N_STRINGS) {
        Object.assign(window.I18N_STRINGS.zh, zh);
        Object.assign(window.I18N_STRINGS.en, en);
    } else {
        console.warn('I18N_STRINGS not found, permissions strings not loaded');
    }
})();
